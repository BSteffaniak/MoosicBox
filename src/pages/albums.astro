---
import Layout from '~/layouts/Layout.astro';
import AlbumPage from '~/components/pages/albums/album-page.tsx';
import AlbumsPage from '~/components/pages/albums/albums-page.tsx';

const search = Object.fromEntries(new URLSearchParams(Astro.url.searchParams));
---

<Layout title="MoosicBox">
    {
        search.albumId ? (
            <AlbumPage client:load albumId={parseInt(search.albumId!)} />
        ) : search.tidalAlbumId ? (
            <AlbumPage
                client:load
                tidalAlbumId={parseInt(search.tidalAlbumId!)}
            />
        ) : search.qobuzAlbumId ? (
            <AlbumPage client:load qobuzAlbumId={search.qobuzAlbumId!} />
        ) : (
            <AlbumsPage client:load />
        )
    }
</Layout>
